# @fang's nix packages and home-manager configs.
{
  # pinned dependencies, generated by `npins`
  sources ? import ./npins,
  # pinned nixpkgs source path
  nixpkgs ? sources.nixpkgs,
  # pinned home-manager source path
  home-manager ? sources.home-manager,
  # the system packages will be built for
  system ? builtins.currentSystem,
  # package set
  pkgs ? import nixpkgs {
    inherit system;
    config = { allowUnfree = true; };
    overlays = [];
  },
  hm ? import home-manager { inherit pkgs; },
}:
rec {
  inherit hm pkgs sources;

  # home-manager configs
  homeConfigs = import ./home {
    inherit hm pkgs sources;
  };
}
